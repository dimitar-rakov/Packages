<launch>
    <arg name="base_name"                                   default="visual_servoing_with_safe_interaction"/>
    <arg name="root_name"                                   default="lwr_base_link"/>
    <arg name="tip_name"                                    default="lwr_a6_link"/>
    <arg name="robot_description"                           default="$(find ics_lwr_setup)/enviroment/ics_lwr_enviroment.urdf.xacro"/>
    <arg name="features_data_topic"                         default="/visual_features_extractor/visual_features_data"/>
    <arg name="joint_states_topic"                          default="/lwr/joint_states"/>
    <arg name="obstacles_objects_topic"                     default="/obstacle_detector/obstacle_objects"/>
    <arg name="robot_objects_topic"                         default="/obstacle_detector/robot_objects"/>
    <arg name="robot_command_topic"                         default="/lwr/joint_trajectory_controller/command"/>
    <arg name="using_external_set_point"                    default="false"/>
    <arg name="using_combined_matrices"                     default="true"/>
    <arg name="using_transpose_jacobian"                    default="false"/>
    <arg name="enb_obstacle_avoidance"                      default="true"/>
    <arg name="using_multiple_colision_points"              default="false"/>
    <arg name="gama"                                        default="[2.5, 2.5, 14.0, 10.0, 10.0, 2.5]"/>
    <!-- gama  V1.0, sym V1.2 sym, V1.3 sym [2.5, 2.5, 14.0, 10000.0, 10000.0, 2.5]-->

    <node name="$(arg base_name)" pkg="visual_servoing_with_safe_interaction" type="visual_servoing_with_safe_interaction_node" respawn="false" output="screen">
        <param name="base_name"                             type="str"    value="$(arg base_name)"/>
        <param name="root_name"                             type="str"    value="$(arg root_name)"/>
        <param name="tip_name"                              type="str"    value="$(arg tip_name)"/>
        <param name="robot_description"                     command="$(find xacro)/xacro.py $(arg robot_description)"/>
        <param name="features_data_topic"                   type="str"    value="$(arg features_data_topic)"/>
        <param name="joint_states_topic"                    type="str"    value="$(arg joint_states_topic)"/>
        <param name="obstacles_objects_topic"               type="str"    value="$(arg obstacles_objects_topic)"/>
        <param name="robot_objects_topic"                   type="str"    value="$(arg robot_objects_topic)"/>
        <param name="robot_command_topic"                   type="str"    value="$(arg robot_command_topic)"/>
        <param name="using_external_set_point"              type="bool"   value="$(arg using_external_set_point)"/>
        <param name="using_combined_matrices"               type="bool"   value="$(arg using_combined_matrices)"/>
        <param name="using_transpose_jacobian"              type="bool"   value="$(arg using_transpose_jacobian)"/>
        <param name="enb_obstacle_avoidance"                type="bool"   value="$(arg enb_obstacle_avoidance)"/>
        <param name="using_multiple_colision_points"        type="bool"   value="$(arg using_multiple_colision_points)"/>
        <rosparam param="gama"                              subst_value="True">$(arg gama)</rosparam>
    </node>

    <node pkg="tf2_ros" type="static_transform_publisher" name="cam_to_end_eff" args="0.000 0.000 0.095 0.000 0.000 0.707106781 0.707106781 lwr_a6_link eye_in_hand " />

</launch>
		
